<!DOCTYPE html><!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]--><!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]--><!--[if !IE]><!--><!--suppress JSUnresolvedVariable, JSUnresolvedFunction --><html lang="en"><!--<![endif]--><!-- BEGIN HEAD --><head>    <meta charset="utf-8"/>    <title>Crime Map | Hong Kong</title>    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta content="width=device-width, initial-scale=1" name="viewport"/>    <meta content="" name="description"/>    <meta content="" name="author"/>    {% load staticfiles %}    <!-- BEGIN GLOBAL MANDATORY STYLES -->    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"          type="text/css"/>    <link rel="stylesheet" href="{% static 'mycss/style.css' %}" type="text/css"/>    <link href="{% static 'global/plugins/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet"          type="text/css"/>    <link href="{% static 'global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'global/plugins/uniform/css/uniform.default.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'global/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}" rel="stylesheet"          type="text/css"/>    <!-- END GLOBAL MANDATORY STYLES -->    <!-- BEGIN PAGE LEVEL PLUGINS -->    <link href="{% static 'global/plugins/morris/morris.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'global/plugins/fullcalendar/fullcalendar.min.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'global/plugins/jqvmap/jqvmap/jqvmap.css' %}" rel="stylesheet" type="text/css"/>    <!-- END PAGE LEVEL PLUGINS -->    <!-- BEGIN THEME GLOBAL STYLES -->    <link href="{% static 'global/css/components.min.css' %}" rel="stylesheet" id="style_components" type="text/css"/>    <link href="{% static 'global/css/plugins.min.css' %}" rel="stylesheet" type="text/css"/>    <!-- END THEME GLOBAL STYLES -->    <!-- BEGIN THEME LAYOUT STYLES -->    <link href="{% static 'layouts/layout/css/layout.min.css' %}" rel="stylesheet" type="text/css"/>    <link href="{% static 'layouts/layout/css/themes/darkblue.min.css' %}" rel="stylesheet" type="text/css"          id="style_color"/>    <link href="{% static 'layouts/layout/css/custom.min.css' %}" rel="stylesheet" type="text/css"/>    <!-- END THEME LAYOUT STYLES -->    <!-- END HEAD --><body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white"><!-- BEGIN HEADER --><div class="page-header navbar navbar-fixed-top">    <!-- BEGIN HEADER INNER -->    <div class="page-header-inner ">        <!-- BEGIN LOGO -->        <li class="nav-item" style="padding-top: 13px">            <a href="{% url 'map' %}" class="nav-link nav-toggle">                <i class="icon-social-dribbble"></i>                <span class="title"><strong>HK Crime Map</strong></span>            </a>        </li>{#        <div class="page-logo">#}{#            <div class="menu-toggler sidebar-toggler"></div>#}{#        </div>#}        <!-- END LOGO -->        <!-- BEGIN RESPONSIVE MENU TOGGLER -->        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"           data-target=".navbar-collapse"> </a>        <!-- END RESPONSIVE MENU TOGGLER -->        <!-- BEGIN TOP NAVIGATION MENU -->        <!-- END TOP NAVIGATION MENU -->    </div>    <!-- END HEADER INNER --></div><!-- END HEADER --><!-- BEGIN HEADER & CONTENT DIVIDER --><div class="clearfix"></div><!-- END HEADER & CONTENT DIVIDER --><!-- BEGIN CONTAINER --><div class="page-container">    <!-- BEGIN SIDEBAR -->    <div class="page-sidebar-wrapper">        <!-- BEGIN SIDEBAR -->        <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->        <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->        <div class="page-sidebar navbar-collapse collapse">            <ul class="page-sidebar-menu  page-header-fixed " data-keep-expanded="false" data-auto-scroll="true"                data-slide-speed="200" style="padding-top: 40px">                <!-- DOC: To remove the sidebar toggler from the sidebar you just need to completely remove the below "sidebar-toggler-wrapper" LI element -->{#                <li class="sidebar-toggler-wrapper hide">#}                    <!-- BEGIN SIDEBAR TOGGLER BUTTON -->{#                    <div class="sidebar-toggler"></div>#}                    <!-- END SIDEBAR TOGGLER BUTTON -->{#                </li>#}                <!-- DOC: To remove the search box from the sidebar you just need to completely remove the below "sidebar-search-wrapper" LI element -->                {##}{#                <li class="nav-item">#}{#                    <a href="{% url 'map' %}" class="nav-link nav-toggle">#}{#                        <i class="icon-social-dribbble"></i>#}{#                        <span class="title">Hong Kong Crime Map</span>#}{#                    </a>#}{#                </li>#}                <li class="heading">                    <h3 class="uppercase"></h3>                </li>                <li class="nav-item start active open">                    <a href="javascript:;" class="nav-link nav-toggle">                        <i class="icon-pointer"></i>                        <span class="title">Crime Map</span>                        <span class="selected"></span>                    </a>                </li>                <li class="nav-item  ">                    <a href="javascript:;" class="nav-link nav-toggle">                        <i class="icon-bar-chart"></i>                        <span class="title">Statisitcs</span>                    </a>                </li>            </ul>            <!-- END SIDEBAR MENU -->            <!-- END SIDEBAR MENU -->        </div>        <!-- END SIDEBAR -->    </div>    <!-- END SIDEBAR -->    <!-- BEGIN CONTENT -->    <div class="page-content-wrapper">        <!-- BEGIN CONTENT BODY -->        <div class="page-content">            <div id="style-selector-control" class="map-control">                <select id="style-selector" class="selector-control">                    <option value="default">Default</option>                    <option value="silver">Silver</option>                    <option value="night">Night mode</option>                    <option value="retro" selected="selected">Retro</option>                    <option value="hiding">Hide features</option>                </select>            </div>            <div id="map"></div>        </div>    </div>    <!-- END CONTENT BODY --></div><!-- END CONTENT --></div><!-- END CONTAINER --><!-- BEGIN FOOTER --><div class="page-footer">    <div class="page-footer-inner">2017 &copy; Lively Impact Inc. &nbsp; &nbsp;&nbsp;Science Park, Hong Kong    </div>    <div class="scroll-to-top">        <i class="icon-arrow-up"></i>    </div></div><div class="page-footer">    <div class="page-footer-inner"> Powered by Social Hack.    </div>    <div class="scroll-to-top">        <i class="icon-arrow-up"></i>    </div></div><!-- END FOOTER --><!--[if lt IE 9]><script src="{% static 'global/plugins/respond.min.js' %}"></script><script src="{% static 'global/plugins/excanvas.min.js' %}"></script><![endif]--><!-- BEGIN CORE PLUGINS -->{#<script>#}{#    console.log({{a1}})#}{#      function initMap() {#}{#        var uluru = {lat: -25.363, lng: 131.044};#}{#        var map = new google.maps.Map(document.getElementById('map'), {#}{#          zoom: 4,#}{#          center: uluru#}{#        });#}{#        var marker = new google.maps.Marker({#}{#          position: uluru,#}{#          map: map#}{#        });#}{#      }#}{#    </script>#}<script>    function initMap() {        var centerLatLng = {lat: 22.3964, lng: 114.1973};        var map = new google.maps.Map(document.getElementById('map'), {            zoom: 11,            center: centerLatLng,            mapTypeControl: false,            scrollwheel: false        });        var contentString = '123456';        var infowindow = new google.maps.InfoWindow({            content: contentString        });        google.maps.event.addListener(map, 'click', function () {            infowindow.close();        });        {##}        {#        var loca = [{{ a1 }}, {{ a2 }}, {{ a3 }}, {{ a4 }}, {{ a5 }}, {{ a6 }}, {{ a7 }}];#}        var tesla = [{{ a1 }}, {{ a2 }}];        var single = tesla[0][3];        var pharrell = "{{ z }}";        console.log(pharrell);        {#        var z = {{ z }};#}        var loca = [{{ a1 }}, {{ a2 }}];        var markersArray = [];        for (var i = 0; i < {{ length_a1 }}; i++) {            (function (index) {//-----------------------****!!!!!!!!!!!!                var LatLng = new google.maps.LatLng(loca[0][index], loca[1][index]);                var marker = new google.maps.Marker({                    position: LatLng,                    map: map                });                {#                var crime_name = {{ a4 }};#}                {#                var location_name = {{ a5 }};#}                {#                var issue_time = {{ a3 }};#}                {#                var universal_rl = {{ a7 }};#}                {#                var title = {{ a6 }};#}                {#                var comb = [{{ a4 }}]#}                {#                console.log(a4)#}                google.maps.event.addListener(marker, 'click', function () {                    infowindow.setContent('<div id="content">' +                        '<div id="siteNotice">' +                        '</div>' +                        '<h1 id="firstHeading" class="firstHeading">' + pharrell + '</h1>' +                        '<div id="bodyContent">' +                        '<p><b>Location: </b>' + loca[0][index] + '</p>' +                        '<p><b>Issue time: </b>' + loca[0][index] + '</p>' +                        '<p><b>News title: </b><a href="' + {{ a0 }}[index] + '">' +                        '' + loca[0][index] + '</a> ' +                        '</p>' +                        '</div>' +                        '</div>');                    infowindow.open(map, marker);                });                markersArray.push(marker);            })(i);//-----------------------****!!!!!!!!!!!!        }        //$$$$$$$$$$$$$$$$$$$$$$$*************------click event------*************$$$$$$$$$$$$$$$$$$$$$$$        //$$$$$$$$$$$$$$$$$$$$$$$*************------click event------*************$$$$$$$$$$$$$$$$$$$$$$$        // Add a style-selector control to the map.        var styleControl = document.getElementById('style-selector-control');        map.controls[google.maps.ControlPosition.TOP_LEFT].push(styleControl);        // Set the map's style to the initial value of the selector.        var styleSelector = document.getElementById('style-selector');        map.setOptions({styles: styles[styleSelector.value]});        // Apply new JSON when the user selects a different style.        styleSelector.addEventListener('change', function () {            map.setOptions({styles: styles[styleSelector.value]});        });    }    var styles = {        default: null,        silver: [            {                elementType: 'geometry',                stylers: [{color: '#f5f5f5'}]            },            {                elementType: 'labels.icon',                stylers: [{visibility: 'off'}]            },            {                elementType: 'labels.text.fill',                stylers: [{color: '#616161'}]            },            {                elementType: 'labels.text.stroke',                stylers: [{color: '#f5f5f5'}]            },            {                featureType: 'administrative.land_parcel',                elementType: 'labels.text.fill',                stylers: [{color: '#bdbdbd'}]            },            {                featureType: 'poi',                elementType: 'geometry',                stylers: [{color: '#eeeeee'}]            },            {                featureType: 'poi',                elementType: 'labels.text.fill',                stylers: [{color: '#757575'}]            },            {                featureType: 'poi.park',                elementType: 'geometry',                stylers: [{color: '#e5e5e5'}]            },            {                featureType: 'poi.park',                elementType: 'labels.text.fill',                stylers: [{color: '#9e9e9e'}]            },            {                featureType: 'road',                elementType: 'geometry',                stylers: [{color: '#ffffff'}]            },            {                featureType: 'road.arterial',                elementType: 'labels.text.fill',                stylers: [{color: '#757575'}]            },            {                featureType: 'road.highway',                elementType: 'geometry',                stylers: [{color: '#dadada'}]            },            {                featureType: 'road.highway',                elementType: 'labels.text.fill',                stylers: [{color: '#616161'}]            },            {                featureType: 'road.local',                elementType: 'labels.text.fill',                stylers: [{color: '#9e9e9e'}]            },            {                featureType: 'transit.line',                elementType: 'geometry',                stylers: [{color: '#e5e5e5'}]            },            {                featureType: 'transit.station',                elementType: 'geometry',                stylers: [{color: '#eeeeee'}]            },            {                featureType: 'water',                elementType: 'geometry',                stylers: [{color: '#c9c9c9'}]            },            {                featureType: 'water',                elementType: 'labels.text.fill',                stylers: [{color: '#9e9e9e'}]            }        ],        night: [            {elementType: 'geometry', stylers: [{color: '#242f3e'}]},            {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},            {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},            {                featureType: 'administrative.locality',                elementType: 'labels.text.fill',                stylers: [{color: '#d59563'}]            },            {                featureType: 'poi',                elementType: 'labels.text.fill',                stylers: [{color: '#d59563'}]            },            {                featureType: 'poi.park',                elementType: 'geometry',                stylers: [{color: '#263c3f'}]            },            {                featureType: 'poi.park',                elementType: 'labels.text.fill',                stylers: [{color: '#6b9a76'}]            },            {                featureType: 'road',                elementType: 'geometry',                stylers: [{color: '#38414e'}]            },            {                featureType: 'road',                elementType: 'geometry.stroke',                stylers: [{color: '#212a37'}]            },            {                featureType: 'road',                elementType: 'labels.text.fill',                stylers: [{color: '#9ca5b3'}]            },            {                featureType: 'road.highway',                elementType: 'geometry',                stylers: [{color: '#746855'}]            },            {                featureType: 'road.highway',                elementType: 'geometry.stroke',                stylers: [{color: '#1f2835'}]            },            {                featureType: 'road.highway',                elementType: 'labels.text.fill',                stylers: [{color: '#f3d19c'}]            },            {                featureType: 'transit',                elementType: 'geometry',                stylers: [{color: '#2f3948'}]            },            {                featureType: 'transit.station',                elementType: 'labels.text.fill',                stylers: [{color: '#d59563'}]            },            {                featureType: 'water',                elementType: 'geometry',                stylers: [{color: '#17263c'}]            },            {                featureType: 'water',                elementType: 'labels.text.fill',                stylers: [{color: '#515c6d'}]            },            {                featureType: 'water',                elementType: 'labels.text.stroke',                stylers: [{color: '#17263c'}]            }        ],        retro: [            {elementType: 'geometry', stylers: [{color: '#ebe3cd'}]},            {elementType: 'labels.text.fill', stylers: [{color: '#523735'}]},            {elementType: 'labels.text.stroke', stylers: [{color: '#f5f1e6'}]},            {                featureType: 'administrative',                elementType: 'geometry.stroke',                stylers: [{color: '#c9b2a6'}]            },            {                featureType: 'administrative.land_parcel',                elementType: 'geometry.stroke',                stylers: [{color: '#dcd2be'}]            },            {                featureType: 'administrative.land_parcel',                elementType: 'labels.text.fill',                stylers: [{color: '#ae9e90'}]            },            {                featureType: 'landscape.natural',                elementType: 'geometry',                stylers: [{color: '#dfd2ae'}]            },            {                featureType: 'poi',                elementType: 'geometry',                stylers: [{color: '#dfd2ae'}]            },            {                featureType: 'poi',                elementType: 'labels.text.fill',                stylers: [{color: '#93817c'}]            },            {                featureType: 'poi.park',                elementType: 'geometry.fill',                stylers: [{color: '#a5b076'}]            },            {                featureType: 'poi.park',                elementType: 'labels.text.fill',                stylers: [{color: '#447530'}]            },            {                featureType: 'road',                elementType: 'geometry',                stylers: [{color: '#f5f1e6'}]            },            {                featureType: 'road.arterial',                elementType: 'geometry',                stylers: [{color: '#fdfcf8'}]            },            {                featureType: 'road.highway',                elementType: 'geometry',                stylers: [{color: '#f8c967'}]            },            {                featureType: 'road.highway',                elementType: 'geometry.stroke',                stylers: [{color: '#e9bc62'}]            },            {                featureType: 'road.highway.controlled_access',                elementType: 'geometry',                stylers: [{color: '#e98d58'}]            },            {                featureType: 'road.highway.controlled_access',                elementType: 'geometry.stroke',                stylers: [{color: '#db8555'}]            },            {                featureType: 'road.local',                elementType: 'labels.text.fill',                stylers: [{color: '#806b63'}]            },            {                featureType: 'transit.line',                elementType: 'geometry',                stylers: [{color: '#dfd2ae'}]            },            {                featureType: 'transit.line',                elementType: 'labels.text.fill',                stylers: [{color: '#8f7d77'}]            },            {                featureType: 'transit.line',                elementType: 'labels.text.stroke',                stylers: [{color: '#ebe3cd'}]            },            {                featureType: 'transit.station',                elementType: 'geometry',                stylers: [{color: '#dfd2ae'}]            },            {                featureType: 'water',                elementType: 'geometry.fill',                stylers: [{color: '#b9d3c2'}]            },            {                featureType: 'water',                elementType: 'labels.text.fill',                stylers: [{color: '#92998d'}]            }        ],        hiding: [            {                featureType: 'poi.business',                stylers: [{visibility: 'off'}]            },            {                featureType: 'transit',                elementType: 'labels.icon',                stylers: [{visibility: 'off'}]            }        ]    };</script><script async defer        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCqonps8UEkYg7q702hmHgVTbDxg_tf6tw&libraries=visualization&callback=initMap"></script></body></html>